{% extends "core.html" %}

{% block left_pane %}
<section class="left-pane">
	<ul class="datasets">
		<li ng-repeat="dataset in datasets" class="dataset" ng-click="select_dataset($index)" ng-class="{'selected-dataset':$index==selected_index}">
			<div class="title">{[{dataset.title}]}</div>
			<div class="dimensions">
				<div class="rows">{[{dataset.rows}]} Rows</div>
				<div class="columns">{[{dataset.cols}]} Columns</div>
			</div>
			<div class="type">{[{dataset.type}]}</div>
		</li>
		<li class="add-dataset">
			<i class="fa fa-plus-circle"></i>
		</li>
	</ul>

	<form id="upload-form" method="post" enctype="multipart/form-data">
		<label for="dataset">Select a dataset to upload</label>
		<input id="data-file" type="file" name="dataset">
		<button id="data-submit">Upload</button>
	</form>

</section>
{% endblock %}

{% block content %}
<section class="viewport">
	<div ng-repeat="dataset in datasets" ng-if="$index==selected_index">
		<div ng-if="dataset.sample">
			<table>
				<tr>
					<td>
    				</td>
					<td ng-repeat="attr in dataset.colAttrs">
						<input type="text" ng-model="attr.name">
					</td>
				</tr>
				<tr>
					<td>
    				</td>
					<td ng-repeat="attr in dataset.colAttrs">
						<input type="text" ng-model="attr.type">
					</td>
				</tr>

				<tr ng-repeat="(index, row) in dataset.sample">
					<td>
					    <input type="text" ng-model="dataset.rowAttrs.name" ng-if="index==0">
    					<input type="text" ng-model="dataset.rowAttrs.type" ng-if="index==1">
    				</td>
					<td ng-repeat="elem in row"> {[{elem}]} </td>
				</tr>
			</table>
		</div>
		ROW ATTRIBUTES
		{[{dataset.rowAttrs}]}
		COL ATTRIBUTES 
		{[{dataset.colAttrs}]}
	</div>
</section>
{% endblock %}